/* Default abcjs styles look good. Just adapting it to the current theme.  */

.abcjs-container svg path {
  fill: var(--text-normal);
}

.abcjs-container svg text {
  fill: var(--text-normal);
}

.abcjs-brace {
  stroke: var(--text-normal);
}

.obsidian-plugin-abcjs-error {
  background-color: var(--background-modifier-error);
  color: var(--text-normal);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 8px;
  text-align: center;
}

/* Some basic CSS to make the Audio controls in abcjs presentable. */

body.theme-light {
  --music-abc-foreground: #222223;
  --music-abc-foreground-alt: #59595a;
  --music-abc-background: #f1f3f4;
  --music-abc-background-alt: #FFFFFF;
  --music-abc-background-active: #E0E0E0;
}

body.theme-dark {
  --music-abc-foreground: #222223;
  --music-abc-foreground-alt: #424242;
  --music-abc-background: #b4b4b4;
  --music-abc-background-alt: #3B3B3B;
  --music-abc-background-active: #545454;
}

.music-abc-root {
  display: flex;
  align-items: center;
  /* overflow: hidden; */
  background-color: var(--music-abc-background);
  border-radius: 21px;
  color: white;
  padding: 0px 10px;
  margin: 20px 10px 10px 10px;
}

.music-abc-btn {
  margin: 0;
  padding: 0;
  color: var(--music-abc-foreground);
  height: 36px;
  width: 36px;
  background: transparent no-repeat center/20px;
  flex: 0 0 auto;
  cursor: pointer;
  box-shadow: none;
}

.music-abc-btn:hover, .music-abc-btn:focus, .music-abc-btn:active{
  background-color: transparent;
  box-shadow: none !important;
  border: none !important;
}

.music-abc-timer {
  color: var(--music-abc-foreground);
  font-size: 14px;
  text-align: center;
  width: 96px;
}

.music-abc-progress {
  --value: 0%;
  margin: 0 8px 0 4px;
  flex: auto;
}

.music-abc-root input[type="range"] {
  background: transparent;
}

.music-abc-root input[type="range"]::-webkit-slider-thumb {
  height: 12px;
  width: 12px;
  border-radius: 50%;
  background-color: var(--music-abc-foreground);
  cursor: pointer;
  margin-top: -1.5px;
}

.music-abc-root input[type="range"].music-abc-progress::-webkit-slider-runnable-track {
  height: 4px;
  cursor: pointer;
  background-image: linear-gradient(
    90deg,
    var(--music-abc-foreground) var(--value),
    var(--music-abc-foreground-alt) var(--value)
  );
  border-radius: 2px;
}


.music-abc-btn-play {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M8 5v14l11-7z"/></svg>');
}

.music-abc-btn-pause {
  display: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>');
}

.music-abc-btn-loading {
  display: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>');
  animation: music-abc-spin 2s linear infinite;
}
@keyframes music-abc-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.music-abc-volume {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  overflow: hidden;
  width: 38px;
  transition-property: width;
  transition-duration: .3s;
  transition-timing-function: ease-in-out;
}

.music-abc-volume:hover {
    width: 116px;
}

input[type="range"].music-abc-volume-slider {
  width: 60px;
  margin-right: 6px;
  --value: 100%;
}

input[type="range"].music-abc-volume-slider::-webkit-slider-runnable-track {
  height: 4px;
  cursor: pointer;
  background-image: linear-gradient(
    90deg,
    var(--music-abc-foreground) var(--value),
    var(--music-abc-foreground-alt) var(--value)
  );
  border-radius: 2px;
}

.music-abc-btn-volume {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>');
}

.music-abc-btn-volume.off {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>');
}

.music-abc-btn-more {
  position: relative;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>');
}

.music-abc-btn-more ul {
  background-color: var(--music-abc-background-alt);
  font-size: 14px;
  position: absolute;
  bottom: 14px;
  left: -6px;
  border-radius: 4px;
  text-align: center;
  overflow: hidden;
  padding: 0px;
  height: 0px;
  transition-property: height;
  transition-duration: .3s;
  transition-timing-function: ease-in-out;
}

.music-abc-btn-more ul > li {
  min-height: 0;
  line-height: 1.2em;
}
.music-abc-btn-more ul.active {
  box-shadow: rgba(0, 0, 0, 0.4) 0px 1px 9px 0px;
  height: 164px;
}

.music-abc-btn-more ul li {
  cursor: pointer;
  list-style-type: none;
  padding: 8px 6px;
  margin: 0;
  color: var(--music-abc-foreground);
}

body.theme-dark .music-abc-btn-more ul li {
  color: var(--music-abc-background);
}

.music-abc-btn-more ul li:hover, .music-abc-btn-more ul li.selected  {
  background-color: var(--music-abc-background-active);
}










.abcjs-inline-audio {
  height: 26px;
  padding: 0 5px;
  border-radius: 3px;
  background-color: #424242;
  display: flex;
  align-items: center;
  box-sizing: border-box;
}

.abcjs-inline-audio.abcjs-disabled {
  opacity: 0.5;
}

.abcjs-inline-audio .abcjs-btn {
  display: block;
  width: 28px;
  height: 34px;
  margin-right: 2px;
  padding: 7px 4px;

  background: none !important;
  border: 1px solid transparent;
  box-sizing: border-box;
}

.abcjs-btn g {
  fill: #f4f4f4;
  stroke: #f4f4f4;
}

.abcjs-inline-audio .abcjs-btn:hover g {
  fill: #cccccc;
  stroke: #cccccc;
}

.abcjs-inline-audio .abcjs-midi-selection.abcjs-pushed {
  border: 1px solid #cccccc;
  background-color: #666666;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-midi-loop.abcjs-pushed {
  border: 1px solid #cccccc;
  background-color: #666666;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-midi-reset.abcjs-pushed {
  border: 1px solid #cccccc;
  background-color: #666666;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-midi-start .abcjs-pause-svg {
  display: none;
}

.abcjs-inline-audio .abcjs-midi-start .abcjs-loading-svg {
  display: none;
}

.abcjs-inline-audio .abcjs-midi-start.abcjs-pushed .abcjs-play-svg {
  display: none;
}

.abcjs-inline-audio .abcjs-midi-start.abcjs-loading .abcjs-play-svg {
  display: none;
}

.abcjs-inline-audio .abcjs-midi-start.abcjs-pushed .abcjs-pause-svg {
  display: block;
}

.abcjs-inline-audio .abcjs-midi-progress-background {
  background-color: #424242;
  height: 10px;
  border-radius: 5px;
  border: 2px solid #cccccc;
  margin: 0 8px 0 15px;
  position: relative;
  flex: 1;
  padding: 0;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-midi-progress-indicator {
  width: 20px;
  margin-left: -10px; /* half of the width */
  height: 14px;
  background-color: #f4f4f4;
  position: absolute;
  display: inline-block;
  border-radius: 6px;
  top: -4px;
  left: 0;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-midi-clock {
  margin-left: 4px;
  margin-top: 1px;
  margin-right: 2px;
  display: inline-block;
  font-family: sans-serif;
  font-size: 16px;
  box-sizing: border-box;
  color: #f4f4f4;
}

.abcjs-inline-audio .abcjs-tempo-wrapper {
  font-size: 10px;
  color: #f4f4f4;
  box-sizing: border-box;
  display: flex;
  align-items: center;
}

.abcjs-inline-audio .abcjs-midi-tempo {
  border-radius: 2px;
  border: none;
  margin: 0 2px 0 4px;
  width: 42px;
  padding-left: 2px;
  box-sizing: border-box;
}

.abcjs-inline-audio .abcjs-loading .abcjs-loading-svg {
  display: inherit;
}

.abcjs-inline-audio .abcjs-loading {
  outline: none;
  animation-name: abcjs-spin;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}
.abcjs-inline-audio .abcjs-loading-svg circle {
  stroke: #f4f4f4;
}

@keyframes abcjs-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Adding the class "abcjs-large" will make the control easier on a touch device. */
.abcjs-large .abcjs-inline-audio {
  height: 52px;
}
.abcjs-large .abcjs-btn {
  width: 56px;
  height: 52px;
  font-size: 28px;
  padding: 6px 8px;
}
.abcjs-large .abcjs-midi-progress-background {
  height: 20px;
  border: 4px solid #cccccc;
}
.abcjs-large .abcjs-midi-progress-indicator {
  height: 28px;
  top: -8px;
  width: 40px;
}
.abcjs-large .abcjs-midi-clock {
  font-size: 32px;
  margin-right: 10px;
  margin-left: 10px;
  margin-top: -1px;
}
.abcjs-large .abcjs-midi-tempo {
  font-size: 20px;
  width: 50px;
}
.abcjs-large .abcjs-tempo-wrapper {
  font-size: 20px;
}

.abcjs-css-warning {
  display: none;
}

.abcjs-container .abcjs-highlight path {
  fill: var(--text-accent);
  opacity: 1;
}
.abcjs-cursor {
  stroke: var(--text-accent);
  opacity: 0.2;
}
